<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Detail Pendaftaran - <%= pendaftaran.nim %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    @media print {
      body { -webkit-print-color-adjust: exact; padding: 0; margin: 0; }
      .no-print { display: none; }
    }
    body { font-family: 'Times New Roman', serif; padding: 40px; background: white; color: black; }
    .header { text-align: center; border-bottom: 3px double black; padding-bottom: 20px; margin-bottom: 30px; }
    .table-data td { padding: 8px 10px; vertical-align: top; }
    .label-col { font-weight: bold; width: 200px; }
    .status-box { border: 2px solid black; padding: 10px 20px; display: inline-block; font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>

  <div class="no-print mb-4">
    <button onclick="window.print()" class="btn btn-primary">Cetak / Simpan PDF</button>
  </div>

  <div class="header">
    <h3 class="mb-0">DATA VERIFIKASI PENDAFTARAN WISUDA</h3>
    <h4 class="mb-0">POLITEKNIK NEGERI LAMPUNG</h4>
  </div>

  <h5 class="text-decoration-underline mb-3">A. DATA MAHASISWA</h5>
  <table class="table-data mb-4">
    <tr><td class="label-col">Nama Mahasiswa</td><td>: <%= pendaftaran.nama %></td></tr>
    <tr><td class="label-col">NIM</td><td>: <%= pendaftaran.nim %></td></tr>
    <tr><td class="label-col">Program Studi</td><td>: <%= pendaftaran.prodi %></td></tr>
    <tr><td class="label-col">Jurusan</td><td>: <%= pendaftaran.jurusan %></td></tr>
    <tr><td class="label-col">Email</td><td>: <%= pendaftaran.user_email %></td></tr>
    <tr><td class="label-col">Nomor HP</td><td>: <%= pendaftaran.no_hp %></td></tr>
  </table>

  <h5 class="text-decoration-underline mb-3">B. STATUS PENDAFTARAN</h5>
  <table class="table-data mb-4">
    <tr><td class="label-col">Tanggal Daftar</td><td>: <%= new Date(pendaftaran.tanggal_daftar).toLocaleDateString('id-ID', {weekday:'long', year:'numeric', month:'long', day:'numeric'}) %></td></tr>
    <tr><td class="label-col">Status Akhir</td><td>: <strong><%= pendaftaran.status.toUpperCase() %></strong></td></tr>
    <% if(pendaftaran.catatan) { %>
      <tr><td class="label-col">Catatan Admin</td><td>: <%= pendaftaran.catatan %></td></tr>
    <% } %>
  </table>

  <h5 class="text-decoration-underline mb-3">C. KELENGKAPAN DOKUMEN</h5>
  <table class="table table-bordered border-dark" style="width: 100%">
    <thead class="table-light border-dark">
      <tr>
        <th style="width: 50px" class="text-center">No</th>
        <th>Jenis Dokumen</th>
        <th style="width: 150px" class="text-center">Status</th>
      </tr>
    </thead>
    <tbody>
      <% if(dokumen.length === 0) { %>
        <tr><td colspan="3" class="text-center">Tidak ada dokumen</td></tr>
      <% } %>
      <% dokumen.forEach((doc, index) => { %>
      <tr>
        <td class="text-center"><%= index + 1 %></td>
        <td><%= doc.jenis_dokumen.replace(/_/g, ' ') %></td>
        <td class="text-center"><%= doc.status %></td>
      </tr>
      <% }) %>
    </tbody>
  </table>

  <div style="margin-top: 50px; text-align: right;">
    <p>Bandar Lampung, <%= new Date().toLocaleDateString('id-ID', {day:'numeric', month:'long', year:'numeric'}) %></p>
    <p>Verifikator,</p>
    <br><br><br>
    <p>(....................................................)</p>
  </div>

  <script>
    window.onload = function() { window.print(); }
  </script>
</body>
</html>